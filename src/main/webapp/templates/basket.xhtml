
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://java.sun.com/jsp/jstl/core">
    <div style="margin-left: auto; margin-right: auto; width: 80%; padding: 20px;" 
         rendered="#{ksiazkiListBB.basket.size()  gt 0}">        <link rel="stylesheet" type="text/css" href="#{facesContext.externalContext.requestContextPath}/static/css/booklist.css"/>

        <h3 style="text-align: center;">Twój koszyk</h3>

        <div class="product card">
            <h:form id="koszykForm">
                <p:dataScroller value="#{ksiazkiListBB.getBasket()}" var="ksiazka" chunkSize="3" mode="inline"
                                scrollHeight="200">
                    <f:facet name="header">
                        Scroll Down to Load More Products
                    </f:facet>
                    <div class="product">
                        <div class="product-list-item p-5" style="display: flex; align-items: center; justify-content: space-between; border: 1px solid #ccc; padding: 10px; border-radius: 5px; margin-bottom: 10px;">
                            <p:graphicImage value="/resources/#{ksiazka.ksiazka.imgUrl}" style="height: 30px; margin-right: 15px;" />
                            <div class="product-list-detail" style="flex-grow: 1;">
                                <div class="product-name">#{ksiazka.ksiazka.tytul}</div>
                                <h:outputText value="#{ksiazka.ilosc}" styleClass="product-price">
                                    <f:convertNumber />
                                </h:outputText>
                            </div>
                            <div class="product-list-action" style="text-align: right; margin-left: 15px;">
                                <h:outputText value="#{ksiazka.ksiazka.cena}" styleClass="product-price">
                                    <f:convertNumber currencySymbol="$" type="currency" />
                                </h:outputText>
                                <p:commandButton value="Usuń" action="#{ksiazkiListBB.usunBasket(ksiazka)}" update="koszykForm" icon="pi pi-shopping-cart" />
                            </div>
                        </div>
                    </div>
                </p:dataScroller>
                <p:commandButton value="Wyczyść koszyk" action="#{ksiazkiListBB.wyczyscBasket()}" update="koszykForm" />
            </h:form>
        </div>
    </div>
</html>